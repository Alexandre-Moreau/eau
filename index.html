<!DOCTYPE html>
<html>
<head>
	
	<meta charset="UTF-8">

	<title>Eau</title>

	<!-- libs -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>

	<h1>Titre</h1>
	<form>
		<label for="temp">Température (°C)</label>
		<input type="range" id="temp" min="1" max="25">
		<label for="am">Amonium (mg/L)</label>
		<input type="range" id="am" min="0" max="0.5" step="0.01">
		<label for="col">Coloration (mg/L)</label>
		<input type="range" id="col" min="0" max="15" step="0.25">
		<label for="ph">pH</label>
		<input type="range" id="ph" min="6.5" max="9" step="0.025">
		<label for="en">Entérocoques (n/100mL)</label>
		<input type="range" id="en" min="0" max="1" step="0.25">
		<label for="es">Escherichia (n/100mL)</label>
		<input type="range" id="es" min="0" max="1" step="0.25">
		<input type="submit" value="Afficher">
	</form>
	<div id="image">
	</div>

	<script>
		$(document).ready(function(){
			$('form').on('submit', function(e) {
				e.preventDefault();

				var src = 'affiche.php?';

				$('form input[type!="submit"]').each(function(i){
					if($(this).attr('id') != null){
						src += $(this).attr('id') + '=' + $(this).val();
						// Dernier élément ()
						if(i !== $('form input[type!="submit"]').length-1) {
							src += '&'
						}
					}
				});
				
				$('div#image').html('<img src="' + src + '">');
			});
		});
	</script>
</body>
</html>
